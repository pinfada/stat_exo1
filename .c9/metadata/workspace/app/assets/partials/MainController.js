{"changed":true,"filter":false,"title":"MainController.js","tooltip":"/app/assets/partials/MainController.js","value":"(function() {\n    'use strict';\n    var module = angular.module('marketApp');\n\n\nmodule.controller('MainController', [\n    '$scope',\n    '$compile',\n    '$window',\n    '$uibModal',\n    '$log',\n    '$http',\n    'nemSimpleLogger',\n    'leafletData',\n    'coordinates', \n    'myCoordinates', \n    'markers', \n    'boutiques',\n    'myBoutiques',\n    'Commerce',\n    function($scope, $compile, $window,  $uibModal, $log, $http, nemSimpleLogger, leafletData, coordinates, myCoordinates, markers, boutiques, myBoutiques, Commerce) {\n        \n        var map = null;\n        var mapquest_key = 'qH6FPb3ABRz7fD8LSYwfTGGhw4QASLSn';\n\n        nemSimpleLogger.doLog = true; //default is true \n        nemSimpleLogger.currentLevel = nemSimpleLogger.LEVELS.debug;//defaults to error only \n\n        L.mapquest.key = mapquest_key; //Cle API mapquest\n        L.mapquest.open = true; // Permet d'utiliser les fonctionnalités de openstreet\n        var tileLayer = L.mapquest.tileLayer('map');\n\n        // 'map' refers to a <div> element with the ID map\n        var map = L.mapquest.map('map', {\n            center: [coordinates.lat, coordinates.lng],\n            layers: [tileLayer],\n            zoom: 12\n        });\n        \n        // Controle de la map (localisation, zoom etc...)\n        map.addControl(L.mapquest.control());\n          \n        // Customisation des Icons utiliser pour la map\n        var customIcon = \n        L.mapquest.icons.marker({\n          primaryColor: '#22407F',\n          secondaryColor: '#3B5998',\n          shadow: true,\n          size: 'md'\n//          symbol: 'A'\n        });\n        \n\n        // Récupération des coordonnées(x,y) des boutiques et affichage sur la map\n\t    boutiques.getBoutiques([coordinates.lat, coordinates.lng]).then(function (boutique) {\n            angular.forEach(boutique, function(obj1, key) {\n                var total = obj1.length;\n                for(var i=0; i<total; i++) {\n                    var commentaire = ' ';\n                    var result = obj1[i];\n                     // Rechercher tous les commerces qui ont le meme nom\n            \t    markers.getMarkers(result).then(function (response) {\n                        //console.log(\"controle markers response : \" , response);\n                        if (response.dataReturned == true) {\n                            commentaire = 'est adh&eacuterent.';\n                        //    console.log(\"---- boutiques presentes : \" , response.dataName);\n                        } else {\n                            commentaire = 'nest pas adh&eacuterent. Pour adh&eacuterer <button class=\"btn\" ng-click=\"open'+ response.allData.resultNumber +'()\"> Cliquez moi :)     </button>';\n                        //    console.log(\"---- boutiques absentes  : \" , response.dataName);\n                        }\n                        // Récupération des coordonnées de l'enseigne commerciale\n                        var boutique_place = [response.allData.shapePoints[0], response.allData.shapePoints[1]];\n                        \n                        // Affichage de chaque POI grace au resultNumber\n                        $('#map').on('click', '.doGreeting'+ response.allData.resultNumber, function() {\n                            $window.alert(response.dataName);\n                        });\n                        \n                        var commerce = 'commerce'+response.allData.resultNumber;\n\n                        $scope[commerce] = {\n                            name: response.allData.fields.name,\n                            adress1: response.allData.fields.address,\n                            adress2: '',\n                            details: '',\n                            postal: response.allData.fields.postal_code,\n                            country:'FR',\n                            latitude: response.allData.fields.lat,\n                            longitude: response.allData.fields.lng,\n                            city: response.allData.fields.city\n                        };\n                        \n                        console.log(\"test : \", $scope[commerce]);\n                        \n                        var open = 'open'+response.allData.resultNumber;\n                        var submit = 'submit'+response.allData.resultNumber;\n                        var cancel = 'cancel'+response.allData.resultNumber;\n\n                        $scope[open] = function () {\n                            $uibModal.open({\n                                templateUrl: 'myModalContent.html', // loads the template\n                                backdrop: true, // setting backdrop allows us to close the modal window on clicking outside the modal window\n                                windowClass: 'modal', // windowClass - additional CSS class(es) to be added to a modal window template\n                                controller: function ($scope, $uibModalInstance, $log, commerce) {\n                                    console.log(\"commerce : \", commerce);\n                                    $scope.commerce = commerce;\n                                    $scope[submit] = function () {\n                                        $log.log('Submiting commerce info.'); // kinda console logs this statement\n                                        $log.log(commerce);\n                                        $http({\n                                        method: 'POST', \n                                        url: 'https://0.0.0.0:8080/commerces',\n                                        headers: {\n                                            \"Content-type\": undefined\n                                        }\n                                        , data: commerce\n                                    }).then(function (response) {\n                                        console.log(response);\n                                       $uibModalInstance.dismiss('cancel'); \n                                    }, function (response) {\n                                        console.log('i am in error');\n                                       $uibModalInstance.dismiss('cancel'); \n                                        });\n                                    };\n                                    $scope[cancel] = function () {\n                                        $uibModalInstance.dismiss('cancel'); \n                                    };\n                                },\n                                resolve: {\n                                    commerce: function () {\n                                        return $scope.commerce;\n                                    }\n                                }\n                            });//end of modal.open\n                        }; // end of scope.open function\n                        \n                        \n                        var html =  \n                                \"<div>\"\n                                +\"    <script type='text/ng-template' id='myModalContent.html'>\"\n                                +\"        <div class='modal-header'>\"\n                                +\"            <h3>My modal!</h3>\"\n                                +\"        </div>\"\n                                +\"        <form ng-submit='submit\"+ response.allData.resultNumber +\"()'>\"\n                                +\"          <div class='modal-body'>\"\n                                +\"              <div class='form-group'>\"\n                                +\"                  <label class='control-label'>Nom du commerce:</label>\"\n                                +\"                  <input class='form-control' type='text' ng-model='commerce.name' />\"\n                                +\"              </div>\"\n                                +\"              <div class='form-group'>\"\n                                +\"                  <label class='control-label'>Adresse</label>\"\n                                +\"                  <input class='form-control' type='text' ng-model='commerce.adress1' />\"\n                                +\"              </div>\"\n                                +\"              <div class='form-group'>\"\n                                +\"                  <label class='control-label'>Adresse complémentaire</label>\"\n                                +\"                  <input class='form-control' type='text' ng-model='commerce.adress2' />\"\n                                +\"              </div>\"\n                                +\"              <div class='form-group'>\"\n                                +\"                  <label class='control-label'>Ville</label>\"\n                                +\"                  <input class='form-control' type='text' ng-model='commerce.city' />\"\n                                +\"              </div>\"\n                                +\"              <div class='form-group'>\"\n                                +\"                  <label class='control-label'>code postal</label>\"\n                                +\"                  <input class='form-control' type='text' ng-model='commerce.postal' />\"\n                                +\"              </div>\"\n                                +\"          </div>\"\n                                +\"          <div class='modal-footer'>\"\n                                +\"              <button class='btn btn-warning' ng-click='cancel\"+ response.allData.resultNumber +\"()'>Cancel</button>\"\n                                +\"              <input type='submit' class='btn primary-btn' value='Submit' />\"\n                                +\"          </div>\"\n                                +\"        </form>\"\n                                +\"    </script>\"\n                                +\"    <button class='btn' ng-click='open\"+ response.allData.resultNumber +\"()'>Open Modal</button>\"\n                                +\"</div>\";\n                        \n                        // Compile title DOM into a link function\n                        var linkFn = $compile(angular.element(html));\n                        \n                        // Return a jQuery DOM tree fully controlled by AngularJS so that ng directives will work\n                        var popup = linkFn($scope);\n                        \n                        var popup_content = '<div><strong>' + response.dataName + ' </strong> situé au ' + response.allData.fields.address + ' ' + commentaire + '</div>';\n                        \n                        var customPopup = L.popup()\n                            .setLatLng(boutique_place)\n                            .setContent(popup[0])\n                            .openOn(map);\n\n                        L.marker(boutique_place, {icon: customIcon}).bindPopup(customPopup).addTo(map);\n            \t    },\n            \t    \tfunction(error){\n            \t    \t\tconsole.log(\"Error Log\",error.statusText);\n                    \t}\n            \t    );\n                }\n            });\n\t    });   \n\n    }]);\n\n})();","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":102,"column":49},"end":{"row":102,"column":50},"action":"insert","lines":["o"],"id":12015}],[{"start":{"row":102,"column":50},"end":{"row":102,"column":51},"action":"insert","lines":["m"],"id":12016}],[{"start":{"row":102,"column":51},"end":{"row":102,"column":52},"action":"insert","lines":["m"],"id":12017}],[{"start":{"row":102,"column":52},"end":{"row":102,"column":53},"action":"insert","lines":["e"],"id":12018}],[{"start":{"row":102,"column":53},"end":{"row":102,"column":54},"action":"insert","lines":["r"],"id":12019}],[{"start":{"row":102,"column":54},"end":{"row":102,"column":55},"action":"insert","lines":["c"],"id":12020}],[{"start":{"row":102,"column":55},"end":{"row":102,"column":56},"action":"insert","lines":["e"],"id":12021}],[{"start":{"row":102,"column":48},"end":{"row":102,"column":49},"action":"insert","lines":["\""],"id":12022}],[{"start":{"row":102,"column":49},"end":{"row":102,"column":50},"action":"insert","lines":["c"],"id":12023}],[{"start":{"row":102,"column":50},"end":{"row":102,"column":51},"action":"insert","lines":["o"],"id":12024}],[{"start":{"row":102,"column":51},"end":{"row":102,"column":52},"action":"insert","lines":["m"],"id":12025}],[{"start":{"row":102,"column":52},"end":{"row":102,"column":53},"action":"insert","lines":["m"],"id":12026}],[{"start":{"row":102,"column":53},"end":{"row":102,"column":54},"action":"insert","lines":["e"],"id":12027}],[{"start":{"row":102,"column":54},"end":{"row":102,"column":55},"action":"insert","lines":["r"],"id":12028}],[{"start":{"row":102,"column":55},"end":{"row":102,"column":56},"action":"insert","lines":["c"],"id":12029}],[{"start":{"row":102,"column":56},"end":{"row":102,"column":57},"action":"insert","lines":["e"],"id":12030}],[{"start":{"row":102,"column":57},"end":{"row":102,"column":58},"action":"insert","lines":[" "],"id":12031}],[{"start":{"row":102,"column":58},"end":{"row":102,"column":59},"action":"insert","lines":[":"],"id":12032}],[{"start":{"row":102,"column":59},"end":{"row":102,"column":60},"action":"insert","lines":[" "],"id":12033}],[{"start":{"row":102,"column":60},"end":{"row":102,"column":61},"action":"insert","lines":["\""],"id":12034}],[{"start":{"row":102,"column":61},"end":{"row":102,"column":62},"action":"insert","lines":[","],"id":12035}],[{"start":{"row":102,"column":62},"end":{"row":102,"column":63},"action":"insert","lines":[" "],"id":12036}],[{"start":{"row":102,"column":72},"end":{"row":102,"column":73},"action":"insert","lines":[";"],"id":12037}],[{"start":{"row":80,"column":30},"end":{"row":80,"column":31},"action":"remove","lines":["["],"id":12041}],[{"start":{"row":80,"column":30},"end":{"row":80,"column":31},"action":"insert","lines":["."],"id":12042}],[{"start":{"row":80,"column":39},"end":{"row":80,"column":40},"action":"remove","lines":["]"],"id":12043}],[{"start":{"row":80,"column":39},"end":{"row":80,"column":40},"action":"insert","lines":["]"],"id":12044}],[{"start":{"row":80,"column":30},"end":{"row":80,"column":31},"action":"remove","lines":["."],"id":12045}],[{"start":{"row":80,"column":30},"end":{"row":80,"column":31},"action":"insert","lines":["["],"id":12046}],[{"start":{"row":90,"column":26},"end":{"row":91,"column":0},"action":"insert","lines":["",""],"id":12047},{"start":{"row":91,"column":0},"end":{"row":91,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":91,"column":24},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":12048},{"start":{"row":92,"column":0},"end":{"row":92,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":92,"column":24},"end":{"row":92,"column":25},"action":"insert","lines":["v"],"id":12049}],[{"start":{"row":92,"column":25},"end":{"row":92,"column":26},"action":"insert","lines":["a"],"id":12050}],[{"start":{"row":92,"column":26},"end":{"row":92,"column":27},"action":"insert","lines":["r"],"id":12051}],[{"start":{"row":92,"column":27},"end":{"row":92,"column":28},"action":"insert","lines":[" "],"id":12052}],[{"start":{"row":92,"column":28},"end":{"row":92,"column":29},"action":"insert","lines":["t"],"id":12053}],[{"start":{"row":92,"column":29},"end":{"row":92,"column":30},"action":"insert","lines":["e"],"id":12054}],[{"start":{"row":92,"column":30},"end":{"row":92,"column":31},"action":"insert","lines":["s"],"id":12055}],[{"start":{"row":92,"column":31},"end":{"row":92,"column":32},"action":"insert","lines":["t"],"id":12056}],[{"start":{"row":92,"column":32},"end":{"row":92,"column":33},"action":"insert","lines":[" "],"id":12057}],[{"start":{"row":92,"column":33},"end":{"row":92,"column":34},"action":"insert","lines":["="],"id":12058}],[{"start":{"row":92,"column":34},"end":{"row":92,"column":35},"action":"insert","lines":[" "],"id":12059}],[{"start":{"row":92,"column":35},"end":{"row":92,"column":51},"action":"insert","lines":["$scope[commerce]"],"id":12060}],[{"start":{"row":92,"column":51},"end":{"row":92,"column":52},"action":"insert","lines":[";"],"id":12061}],[{"start":{"row":103,"column":87},"end":{"row":103,"column":95},"action":"remove","lines":["commerce"],"id":12062},{"start":{"row":103,"column":87},"end":{"row":103,"column":88},"action":"insert","lines":["t"]}],[{"start":{"row":103,"column":88},"end":{"row":103,"column":89},"action":"insert","lines":["e"],"id":12063}],[{"start":{"row":103,"column":89},"end":{"row":103,"column":90},"action":"insert","lines":["s"],"id":12064}],[{"start":{"row":103,"column":90},"end":{"row":103,"column":91},"action":"insert","lines":["t"],"id":12065}],[{"start":{"row":92,"column":0},"end":{"row":93,"column":24},"action":"remove","lines":["                        var test = $scope[commerce];","                        "],"id":12085}],[{"start":{"row":91,"column":24},"end":{"row":92,"column":0},"action":"remove","lines":["",""],"id":12086}],[{"start":{"row":101,"column":90},"end":{"row":101,"column":91},"action":"remove","lines":["t"],"id":12087}],[{"start":{"row":101,"column":89},"end":{"row":101,"column":90},"action":"remove","lines":["s"],"id":12088}],[{"start":{"row":101,"column":88},"end":{"row":101,"column":89},"action":"remove","lines":["e"],"id":12089}],[{"start":{"row":101,"column":87},"end":{"row":101,"column":88},"action":"remove","lines":["t"],"id":12090}],[{"start":{"row":101,"column":87},"end":{"row":101,"column":88},"action":"insert","lines":["c"],"id":12091}],[{"start":{"row":101,"column":88},"end":{"row":101,"column":89},"action":"insert","lines":["o"],"id":12092}],[{"start":{"row":101,"column":89},"end":{"row":101,"column":90},"action":"insert","lines":["m"],"id":12093}],[{"start":{"row":101,"column":90},"end":{"row":101,"column":91},"action":"insert","lines":["m"],"id":12094}],[{"start":{"row":101,"column":91},"end":{"row":101,"column":92},"action":"insert","lines":["e"],"id":12095}],[{"start":{"row":101,"column":92},"end":{"row":101,"column":93},"action":"insert","lines":["r"],"id":12096}],[{"start":{"row":101,"column":93},"end":{"row":101,"column":94},"action":"insert","lines":["c"],"id":12097}],[{"start":{"row":101,"column":94},"end":{"row":101,"column":95},"action":"insert","lines":["e"],"id":12098}],[{"start":{"row":101,"column":87},"end":{"row":101,"column":88},"action":"insert","lines":["'"],"id":12100}],[{"start":{"row":101,"column":96},"end":{"row":101,"column":97},"action":"insert","lines":["'"],"id":12101}],[{"start":{"row":101,"column":96},"end":{"row":101,"column":97},"action":"remove","lines":["'"],"id":12102}],[{"start":{"row":101,"column":87},"end":{"row":101,"column":88},"action":"remove","lines":["'"],"id":12103}],[{"start":{"row":94,"column":76},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":12104},{"start":{"row":95,"column":0},"end":{"row":95,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":95,"column":24},"end":{"row":95,"column":25},"action":"insert","lines":["$"],"id":12105}],[{"start":{"row":95,"column":25},"end":{"row":95,"column":26},"action":"insert","lines":["s"],"id":12106}],[{"start":{"row":95,"column":26},"end":{"row":95,"column":27},"action":"insert","lines":["c"],"id":12107}],[{"start":{"row":95,"column":27},"end":{"row":95,"column":28},"action":"insert","lines":["o"],"id":12108}],[{"start":{"row":95,"column":28},"end":{"row":95,"column":29},"action":"insert","lines":["p"],"id":12109}],[{"start":{"row":95,"column":29},"end":{"row":95,"column":30},"action":"insert","lines":["e"],"id":12110}],[{"start":{"row":95,"column":30},"end":{"row":95,"column":31},"action":"insert","lines":[" "],"id":12111}],[{"start":{"row":95,"column":30},"end":{"row":95,"column":31},"action":"remove","lines":[" "],"id":12112}],[{"start":{"row":95,"column":30},"end":{"row":95,"column":31},"action":"insert","lines":["."],"id":12113}],[{"start":{"row":95,"column":31},"end":{"row":95,"column":32},"action":"insert","lines":["t"],"id":12114}],[{"start":{"row":95,"column":32},"end":{"row":95,"column":33},"action":"insert","lines":["e"],"id":12115}],[{"start":{"row":95,"column":33},"end":{"row":95,"column":34},"action":"insert","lines":["s"],"id":12116}],[{"start":{"row":95,"column":34},"end":{"row":95,"column":35},"action":"insert","lines":["t"],"id":12117}],[{"start":{"row":95,"column":35},"end":{"row":95,"column":36},"action":"insert","lines":[" "],"id":12118}],[{"start":{"row":95,"column":36},"end":{"row":95,"column":37},"action":"insert","lines":["="],"id":12119}],[{"start":{"row":95,"column":37},"end":{"row":95,"column":38},"action":"insert","lines":[" "],"id":12120}],[{"start":{"row":95,"column":38},"end":{"row":95,"column":54},"action":"insert","lines":["$scope[commerce]"],"id":12121}],[{"start":{"row":95,"column":54},"end":{"row":95,"column":55},"action":"insert","lines":[";"],"id":12122}],[{"start":{"row":95,"column":0},"end":{"row":96,"column":0},"action":"remove","lines":["                        $scope.test = $scope[commerce];",""],"id":12131}],[{"start":{"row":145,"column":110},"end":{"row":145,"column":145},"action":"insert","lines":["\"+ response.allData.resultNumber +\""],"id":12132}],[{"start":{"row":145,"column":110},"end":{"row":145,"column":145},"action":"remove","lines":["\"+ response.allData.resultNumber +\""],"id":12133}],[{"start":{"row":90,"column":26},"end":{"row":91,"column":0},"action":"insert","lines":["",""],"id":12134},{"start":{"row":91,"column":0},"end":{"row":91,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":91,"column":24},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":12135},{"start":{"row":92,"column":0},"end":{"row":92,"column":24},"action":"insert","lines":["                        "]}],[{"start":{"row":92,"column":24},"end":{"row":92,"column":61},"action":"insert","lines":["console.log(\"commerce : \", commerce);"],"id":12136}],[{"start":{"row":92,"column":51},"end":{"row":92,"column":59},"action":"remove","lines":["commerce"],"id":12137},{"start":{"row":92,"column":51},"end":{"row":92,"column":67},"action":"insert","lines":["$scope[commerce]"]}],[{"start":{"row":92,"column":37},"end":{"row":92,"column":45},"action":"remove","lines":["commerce"],"id":12138},{"start":{"row":92,"column":37},"end":{"row":92,"column":38},"action":"insert","lines":["t"]}],[{"start":{"row":92,"column":38},"end":{"row":92,"column":39},"action":"insert","lines":["e"],"id":12139}],[{"start":{"row":92,"column":39},"end":{"row":92,"column":40},"action":"insert","lines":["s"],"id":12140}],[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"insert","lines":["t"],"id":12141}],[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"remove","lines":["t"],"id":12142}],[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"insert","lines":["t"],"id":12143}],[{"start":{"row":103,"column":95},"end":{"row":103,"column":97},"action":"insert","lines":["[]"],"id":12144}],[{"start":{"row":103,"column":96},"end":{"row":103,"column":97},"action":"remove","lines":["]"],"id":12145}],[{"start":{"row":103,"column":95},"end":{"row":103,"column":96},"action":"remove","lines":["["],"id":12146}],[{"start":{"row":103,"column":105},"end":{"row":103,"column":106},"action":"insert","lines":["'"],"id":12171}],[{"start":{"row":103,"column":96},"end":{"row":103,"column":97},"action":"insert","lines":["'"],"id":12171}],[{"start":{"row":103,"column":105},"end":{"row":103,"column":134},"action":"insert","lines":["response.allData.resultNumber"],"id":12172}],[{"start":{"row":103,"column":104},"end":{"row":103,"column":105},"action":"insert","lines":["+"],"id":12173}],[{"start":{"row":103,"column":103},"end":{"row":103,"column":104},"action":"insert","lines":["e"],"id":12174}],[{"start":{"row":103,"column":102},"end":{"row":103,"column":103},"action":"insert","lines":["c"],"id":12175}],[{"start":{"row":103,"column":101},"end":{"row":103,"column":102},"action":"insert","lines":["r"],"id":12176}],[{"start":{"row":103,"column":100},"end":{"row":103,"column":101},"action":"insert","lines":["e"],"id":12177}],[{"start":{"row":103,"column":99},"end":{"row":103,"column":100},"action":"insert","lines":["m"],"id":12178}],[{"start":{"row":103,"column":98},"end":{"row":103,"column":99},"action":"insert","lines":["m"],"id":12179}],[{"start":{"row":103,"column":97},"end":{"row":103,"column":98},"action":"insert","lines":["o"],"id":12180}],[{"start":{"row":103,"column":96},"end":{"row":103,"column":97},"action":"insert","lines":["c"],"id":12181}],[{"start":{"row":103,"column":96},"end":{"row":103,"column":97},"action":"remove","lines":["m"],"id":12182}],[{"start":{"row":103,"column":97},"end":{"row":103,"column":98},"action":"remove","lines":["a"],"id":12183}],[{"start":{"row":103,"column":98},"end":{"row":103,"column":99},"action":"remove","lines":["i"],"id":12184}],[{"start":{"row":103,"column":99},"end":{"row":103,"column":100},"action":"remove","lines":["n"],"id":12185}],[{"start":{"row":103,"column":100},"end":{"row":103,"column":101},"action":"remove","lines":["S"],"id":12186}],[{"start":{"row":103,"column":101},"end":{"row":103,"column":102},"action":"remove","lines":["c"],"id":12187}],[{"start":{"row":103,"column":102},"end":{"row":103,"column":103},"action":"remove","lines":["o"],"id":12188}],[{"start":{"row":103,"column":103},"end":{"row":103,"column":104},"action":"remove","lines":["p"],"id":12189}],[{"start":{"row":103,"column":104},"end":{"row":103,"column":105},"action":"remove","lines":["e"],"id":12190}],[{"start":{"row":103,"column":87},"end":{"row":103,"column":95},"action":"remove","lines":["commerce"],"id":12191},{"start":{"row":103,"column":87},"end":{"row":103,"column":106},"action":"insert","lines":["{$scope: mainScope}"]}]]},"ace":{"folds":[],"scrolltop":1464.666862487793,"scrollleft":0,"selection":{"start":{"row":98,"column":52},"end":{"row":98,"column":52},"isBackwards":false},"options":{"tabSize":4,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":true,"wrapToView":true},"firstLineState":{"row":84,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1502345075174}